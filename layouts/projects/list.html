{{ define "content" }}
<article>
  <h1>{{ .Title }}</h1>

  <div class="">
    {{ .Content }}
  </div>

  <section class="mt-6 sm:mt-8 md:mt-10">
    {{- $projects := where .Site.RegularPages "Section" "projects" }}
    {{- range $index, $project := $projects }}
    <a href="{{ $project.Permalink }}">
      <div class="
        px-4 sm:px-6 md:px-8 pt-3 pb-3 sm:pb-4 mb-4 sm:mb-6
        border-primary bg-neutral-primary{{ if $project.Params.background }}
        relative
        overflow-hidden{{ end }}
        rounded-md
        shadow-sm hover:shadow-md
        shine-effect
        transition duration-300 ease-in-out
      "
      >
        {{- if $project.Params.background }}
        <div class="
        absolute inset-0 bg-cover bg-center
        opacity-10
        "
             style="background-image: url('/img/{{ $project.Params.background }}');"></div>
        {{- if eq $index 0 }}
        <link rel="preload" as="image" href="/img/{{ $project.Params.background }}" fetchpriority="high">
        {{- end }}
        {{- end }}
        <div class="relative z-10">
          <div class="flex items-start justify-between items-center gap-4 mb-4">
            <h2 class="my-0 text-[#2e4170] flex-1">
                {{ $project.Title }}
            </h2>
            {{- if $project.Params.logo }}
            <img src="/img/{{ $project.Params.logo }}" alt="{{ $project.Title }} logo" class="w-12 h-12 object-contain flex-shrink-0" loading="lazy">
            {{- end }}
          </div>
          {{- if $project.Description }}
            <p class="text-[#333] text-sm sm:text-base leading-relaxed mb-3 sm:mb-4">{{ $project.Description }}</p>
          {{- end }}
          {{- if $project.Params.keywords }}
            <div class="flex gap-2 flex-wrap">
              {{- range $project.Params.keywords }}
                {{ partial "components/tag.html" (dict "text" .) }}
              {{- end }}
            </div>
          {{- end }}
        </div>
      </div>
    </a>
    {{- end }}

  </section>
</article>
{{ end }}


